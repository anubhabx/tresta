var TrestaWidgetLib=function(e){"use strict";var t,r,o,n,i,a,s,l,c,d,u,h=Object.defineProperty,p=(e,t,r)=>((e,t,r)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),g="undefined"!=typeof document?document.currentScript:null,m={},f=[],_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,b=Array.isArray;function w(e,t){for(var r in t)e[r]=t[r];return e}function v(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function y(e,r,o){var n,i,a,s={};for(a in r)"key"==a?n=r[a]:"ref"==a?i=r[a]:s[a]=r[a];if(arguments.length>2&&(s.children=arguments.length>3?t.call(arguments,2):o),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return x(e,s,n,i,null)}function x(e,t,n,i,a){var s={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==a?++o:a,__i:-1,__u:0};return null==a&&null!=r.vnode&&r.vnode(s),s}function k(e){return e.children}function R(e,t){this.props=e,this.context=t}function T(e,t){if(null==t)return e.__?T(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?T(e):null}function S(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return S(e)}}function E(e){(!e.__d&&(e.__d=!0)&&n.push(e)&&!I.__r++||i!=r.debounceRendering)&&((i=r.debounceRendering)||a)(I)}function I(){for(var e,t,o,i,a,l,c,d=1;n.length;)n.length>d&&n.sort(s),e=n.shift(),d=n.length,e.__d&&(o=void 0,i=void 0,a=(i=(t=e).__v).__e,l=[],c=[],t.__P&&((o=w({},i)).__v=i.__v+1,r.vnode&&r.vnode(o),W(t.__P,o,i,t.__n,t.__P.namespaceURI,32&i.__u?[a]:null,l,null==a?T(i):a,!!(32&i.__u),c),o.__v=i.__v,o.__.__k[o.__i]=o,U(l,o,c),i.__e=i.__=null,o.__e!=a&&S(o)));I.__r=0}function C(e,t,r,o,n,i,a,s,l,c,d){var u,h,p,g,_,w,v,y=o&&o.__k||f,R=t.length;for(l=function(e,t,r,o,n){var i,a,s,l,c,d=r.length,u=d,h=0;for(e.__k=new Array(n),i=0;i<n;i++)null!=(a=t[i])&&"boolean"!=typeof a&&"function"!=typeof a?(l=i+h,(a=e.__k[i]="string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?x(null,a,null,null,null):b(a)?x(k,{children:a},null,null,null):null==a.constructor&&a.__b>0?x(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,s=null,-1!=(c=a.__i=z(a,r,l,u))&&(u--,(s=r[c])&&(s.__u|=2)),null==s||null==s.__v?(-1==c&&(n>d?h--:n<d&&h++),"function"!=typeof a.type&&(a.__u|=4)):c!=l&&(c==l-1?h--:c==l+1?h++:(c>l?h--:h++,a.__u|=4))):e.__k[i]=null;if(u)for(i=0;i<d;i++)null!=(s=r[i])&&!(2&s.__u)&&(s.__e==o&&(o=T(s)),j(s,s));return o}(r,t,y,l,R),u=0;u<R;u++)null!=(p=r.__k[u])&&(h=-1==p.__i?m:y[p.__i]||m,p.__i=u,w=W(e,p,h,n,i,a,s,l,c,d),g=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&L(h.ref,null,p),d.push(p.ref,p.__c||g,p)),null==_&&null!=g&&(_=g),(v=!!(4&p.__u))||h.__k===p.__k?l=A(p,l,e,v):"function"==typeof p.type&&void 0!==w?l=w:g&&(l=g.nextSibling),p.__u&=-7);return r.__e=_,l}function A(e,t,r,o){var n,i;if("function"==typeof e.type){for(n=e.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=e,t=A(n[i],t,r,o));return t}e.__e!=t&&(o&&(t&&e.type&&!t.parentNode&&(t=T(e)),r.insertBefore(e.__e,t||null)),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function N(e,t){return t=t||[],null==e||"boolean"==typeof e||(b(e)?e.some(function(e){N(e,t)}):t.push(e)),t}function z(e,t,r,o){var n,i,a,s=e.key,l=e.type,c=t[r],d=null!=c&&!(2&c.__u);if(null===c&&null==e.key||d&&s==c.key&&l==c.type)return r;if(o>(d?1:0))for(n=r-1,i=r+1;n>=0||i<t.length;)if(null!=(c=t[a=n>=0?n--:i++])&&!(2&c.__u)&&s==c.key&&l==c.type)return a;return-1}function D(e,t,r){"-"==t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||_.test(t)?r:r+"px"}function M(e,t,r,o,n){var i,a;e:if("style"==t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)r&&t in r||D(e.style,t,"");if(r)for(t in r)o&&r[t]==o[t]||D(e.style,t,r[t])}else if("o"==t[0]&&"n"==t[1])i=t!=(t=t.replace(l,"$1")),a=t.toLowerCase(),t=a in e||"onFocusOut"==t||"onFocusIn"==t?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=r,r?o?r.u=o.u:(r.u=c,e.addEventListener(t,i?u:d,i)):e.removeEventListener(t,i?u:d,i);else{if("http://www.w3.org/2000/svg"==n)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==r?"":r;break e}catch(s){}"function"==typeof r||(null==r||!1===r&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==r?"":r))}}function P(e){return function(t){if(this.l){var o=this.l[t.type+e];if(null==t.t)t.t=c++;else if(t.t<o.u)return;return o(r.event?r.event(t):t)}}}function W(e,o,n,i,a,s,l,c,d,u){var h,p,g,f,_,y,x,S,E,I,A,N,z,D,P,W,U,L=o.type;if(null!=o.constructor)return null;128&n.__u&&(d=!!(32&n.__u),s=[c=o.__e=n.__e]),(h=r.__b)&&h(o);e:if("function"==typeof L)try{if(S=o.props,E="prototype"in L&&L.prototype.render,I=(h=L.contextType)&&i[h.__c],A=h?I?I.props.value:h.__:i,n.__c?x=(p=o.__c=n.__c).__=p.__E:(E?o.__c=p=new L(S,A):(o.__c=p=new R(S,A),p.constructor=L,p.render=q),I&&I.sub(p),p.props=S,p.state||(p.state={}),p.context=A,p.__n=i,g=p.__d=!0,p.__h=[],p._sb=[]),E&&null==p.__s&&(p.__s=p.state),E&&null!=L.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=w({},p.__s)),w(p.__s,L.getDerivedStateFromProps(S,p.__s))),f=p.props,_=p.state,p.__v=o,g)E&&null==L.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),E&&null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(E&&null==L.getDerivedStateFromProps&&S!==f&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(S,A),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(S,p.__s,A)||o.__v==n.__v){for(o.__v!=n.__v&&(p.props=S,p.state=p.__s,p.__d=!1),o.__e=n.__e,o.__k=n.__k,o.__k.some(function(e){e&&(e.__=o)}),N=0;N<p._sb.length;N++)p.__h.push(p._sb[N]);p._sb=[],p.__h.length&&l.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(S,p.__s,A),E&&null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(f,_,y)})}if(p.context=A,p.props=S,p.__P=e,p.__e=!1,z=r.__r,D=0,E){for(p.state=p.__s,p.__d=!1,z&&z(o),h=p.render(p.props,p.state,p.context),P=0;P<p._sb.length;P++)p.__h.push(p._sb[P]);p._sb=[]}else do{p.__d=!1,z&&z(o),h=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++D<25);p.state=p.__s,null!=p.getChildContext&&(i=w(w({},i),p.getChildContext())),E&&!g&&null!=p.getSnapshotBeforeUpdate&&(y=p.getSnapshotBeforeUpdate(f,_)),W=h,null!=h&&h.type===k&&null==h.key&&(W=$(h.props.children)),c=C(e,b(W)?W:[W],o,n,i,a,s,l,c,d,u),p.base=o.__e,o.__u&=-161,p.__h.length&&l.push(p),x&&(p.__E=p.__=null)}catch(j){if(o.__v=null,d||null!=s)if(j.then){for(o.__u|=d?160:128;c&&8==c.nodeType&&c.nextSibling;)c=c.nextSibling;s[s.indexOf(c)]=null,o.__e=c}else{for(U=s.length;U--;)v(s[U]);O(o)}else o.__e=n.__e,o.__k=n.__k,j.then||O(o);r.__e(j,o,n)}else null==s&&o.__v==n.__v?(o.__k=n.__k,o.__e=n.__e):c=o.__e=function(e,o,n,i,a,s,l,c,d){var u,h,p,g,f,_,w,y=n.props,x=o.props,k=o.type;if("svg"==k?a="http://www.w3.org/2000/svg":"math"==k?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),null!=s)for(u=0;u<s.length;u++)if((f=s[u])&&"setAttribute"in f==!!k&&(k?f.localName==k:3==f.nodeType)){e=f,s[u]=null;break}if(null==e){if(null==k)return document.createTextNode(x);e=document.createElementNS(a,k,x.is&&x),c&&(r.__m&&r.__m(o,s),c=!1),s=null}if(null==k)y===x||c&&e.data==x||(e.data=x);else{if(s=s&&t.call(e.childNodes),y=n.props||m,!c&&null!=s)for(y={},u=0;u<e.attributes.length;u++)y[(f=e.attributes[u]).name]=f.value;for(u in y)if(f=y[u],"children"==u);else if("dangerouslySetInnerHTML"==u)p=f;else if(!(u in x)){if("value"==u&&"defaultValue"in x||"checked"==u&&"defaultChecked"in x)continue;M(e,u,null,f,a)}for(u in x)f=x[u],"children"==u?g=f:"dangerouslySetInnerHTML"==u?h=f:"value"==u?_=f:"checked"==u?w=f:c&&"function"!=typeof f||y[u]===f||M(e,u,f,y[u],a);if(h)c||p&&(h.__html==p.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),o.__k=[];else if(p&&(e.innerHTML=""),C("template"==o.type?e.content:e,b(g)?g:[g],o,n,i,"foreignObject"==k?"http://www.w3.org/1999/xhtml":a,s,l,s?s[0]:n.__k&&T(n,0),c,d),null!=s)for(u=s.length;u--;)v(s[u]);c||(u="value","progress"==k&&null==_?e.removeAttribute("value"):null!=_&&(_!==e[u]||"progress"==k&&!_||"option"==k&&_!=y[u])&&M(e,u,_,y[u],a),u="checked",null!=w&&w!=e[u]&&M(e,u,w,y[u],a))}return e}(n.__e,o,n,i,a,s,l,d,u);return(h=r.diffed)&&h(o),128&o.__u?void 0:c}function O(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(O)}function U(e,t,o){for(var n=0;n<o.length;n++)L(o[n],o[++n],o[++n]);r.__c&&r.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(o){r.__e(o,t.__v)}})}function $(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:b(e)?e.map($):w({},e)}function L(e,t,o){try{if("function"==typeof e){var n="function"==typeof e.__u;n&&e.__u(),n&&null==t||(e.__u=e(t))}else e.current=t}catch(i){r.__e(i,o)}}function j(e,t,o){var n,i;if(r.unmount&&r.unmount(e),(n=e.ref)&&(n.current&&n.current!=e.__e||L(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){r.__e(a,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&j(n[i],t,o||"function"!=typeof e.type);o||v(e.__e),e.__c=e.__=e.__e=void 0}function q(e,t,r){return this.constructor(e,r)}function B(e,o,n){var i,a,s;o==document&&(o=document.documentElement),r.__&&r.__(e,o),i=o.__k,a=[],s=[],W(o,e=o.__k=y(k,null,[e]),i||m,m,o.namespaceURI,i?null:o.firstChild?t.call(o.childNodes):null,a,i?i.__e:o.firstChild,!1,s),U(a,e,s)}t=f.slice,r={__e:function(e,t,r,o){for(var n,i,a;t=t.__;)if((n=t.__c)&&!n.__)try{if((i=n.constructor)&&null!=i.getDerivedStateFromError&&(n.setState(i.getDerivedStateFromError(e)),a=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e,o||{}),a=n.__d),a)return n.__E=n}catch(s){e=s}throw e}},o=0,R.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=w({},this.state),"function"==typeof e&&(e=e(w({},r),this.props)),e&&w(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),E(this))},R.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),E(this))},R.prototype.render=k,n=[],a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,s=function(e,t){return e.__v.__b-t.__v.__b},I.__r=0,l=/(PointerCapture)$|Capture$/i,c=0,d=P(!1),u=P(!0);var F=(e=>(e.INVALID_WIDGET_ID="INVALID_WIDGET_ID",e.API_TIMEOUT="API_TIMEOUT",e.API_ERROR="API_ERROR",e.NETWORK_ERROR="NETWORK_ERROR",e.RATE_LIMITED="RATE_LIMITED",e.UNAUTHORIZED="UNAUTHORIZED",e.PARSE_ERROR="PARSE_ERROR",e.RENDER_ERROR="RENDER_ERROR",e))(F||{});class H extends Error{constructor(e,t,r=!0){super(t),this.code=e,this.recoverable=r,this.name="WidgetError"}}class G{constructor(e={}){p(this,"theme"),p(this,"debug"),this.theme=e.theme??this.getDefaultTheme(),this.debug=e.debug??!1,this.debug&&console.log("[TrestaWidget] ThemeManager initialized with theme:",this.theme)}getDefaultTheme(){return{mode:"light",primaryColor:"#3b82f6",secondaryColor:"#64748b",cardStyle:"default"}}applyTheme(e){this.applyThemeMode(e),this.applyColors(e),this.applyFontFamily(e),this.applyCardStyle(e),this.debug&&console.log("[TrestaWidget] Theme applied to root element")}applyThemeMode(e){let t=this.theme.mode;"auto"===t&&(t=this.detectPreferredColorScheme()),e.setAttribute("data-theme",t)}detectPreferredColorScheme(){return"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}applyColors(e){e.style.setProperty("--tresta-primary-color",this.theme.primaryColor),e.style.setProperty("--tresta-secondary-color",this.theme.secondaryColor)}applyFontFamily(e){if(this.theme.fontFamily){const t=`${this.theme.fontFamily}, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif`;e.style.setProperty("--tresta-font-family",t)}}applyCardStyle(e){e.setAttribute("data-card-style",this.theme.cardStyle)}updateTheme(e){this.theme={...this.theme,...e},this.debug&&console.log("[TrestaWidget] Theme updated:",this.theme)}getTheme(){return{...this.theme}}static parseThemeFromElement(e){const t={},r=e.getAttribute("data-theme-mode");"light"!==r&&"dark"!==r&&"auto"!==r||(t.mode=r);const o=e.getAttribute("data-primary-color");o&&(t.primaryColor=o);const n=e.getAttribute("data-secondary-color");n&&(t.secondaryColor=n);const i=e.getAttribute("data-font-family");i&&(t.fontFamily=i);const a=e.getAttribute("data-card-style");return"default"!==a&&"minimal"!==a&&"bordered"!==a||(t.cardStyle=a),t}}const V='@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-space-y-reverse:0;--tw-border-style:solid;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-outline-style:solid;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-yellow-500:oklch(79.5% .184 86.047);--color-gray-200:oklch(92.8% .006 264.531);--color-zinc-100:oklch(96.7% .001 286.375);--color-zinc-200:oklch(92% .004 286.32);--color-zinc-300:oklch(87.1% .006 286.286);--color-zinc-400:oklch(70.5% .015 286.067);--color-zinc-500:oklch(55.2% .016 285.938);--color-zinc-600:oklch(44.2% .017 285.786);--color-zinc-700:oklch(37% .013 285.805);--color-zinc-800:oklch(27.4% .006 286.033);--color-zinc-900:oklch(21% .006 285.885);--color-white:#fff;--spacing:.25rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--font-weight-medium:500;--font-weight-semibold:600;--tracking-tight:-.025em;--radius-md:calc(var(--radius) - 2px);--radius-xl:.75rem;--blur-md:12px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono);--color-border:hsl(var(--border));--color-input:hsl(var(--input));--color-ring:hsl(var(--ring));--color-background:hsl(var(--background));--color-foreground:hsl(var(--foreground));--color-primary:hsl(var(--primary));--color-primary-foreground:hsl(var(--primary-foreground));--color-secondary:hsl(var(--secondary));--color-secondary-foreground:hsl(var(--secondary-foreground));--color-destructive:hsl(var(--destructive));--color-destructive-foreground:hsl(var(--destructive-foreground));--color-muted-foreground:hsl(var(--muted-foreground));--color-accent:hsl(var(--accent));--color-accent-foreground:hsl(var(--accent-foreground));--color-card:hsl(var(--card));--color-card-foreground:hsl(var(--card-foreground))}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}*,:after,:before,::backdrop{border-color:var(--color-gray-200,currentColor)}::file-selector-button{border-color:var(--color-gray-200,currentColor)}:root{--background:0 0% 100%;--foreground:240 10% 3.9%;--card:0 0% 100%;--card-foreground:240 10% 3.9%;--popover:0 0% 100%;--popover-foreground:240 10% 3.9%;--tresta-primary:oklch(51.66% .0931 181.08);--primary:240 5.9% 10%;--primary-foreground:0 0% 98%;--secondary:240 4.8% 95.9%;--secondary-foreground:240 5.9% 10%;--muted:240 4.8% 95.9%;--muted-foreground:240 3.8% 46.1%;--accent:240 4.8% 95.9%;--accent-foreground:240 5.9% 10%;--destructive:0 84.2% 60.2%;--destructive-foreground:0 0% 98%;--border:240 5.9% 90%;--input:240 5.9% 90%;--ring:240 10% 3.9%;--chart-1:12 76% 61%;--chart-2:173 58% 39%;--chart-3:197 37% 24%;--chart-4:43 74% 66%;--chart-5:27 87% 67%;--radius:.5rem}.dark{--background:240 10% 3.9%;--foreground:0 0% 98%;--card:240 10% 3.9%;--card-foreground:0 0% 98%;--popover:240 10% 3.9%;--popover-foreground:0 0% 98%;--tresta-primary:oklch(51.66% .0931 181.08);--primary:0 0% 98%;--primary-foreground:240 5.9% 10%;--secondary:240 3.7% 15.9%;--secondary-foreground:0 0% 98%;--muted:240 3.7% 15.9%;--muted-foreground:240 5% 64.9%;--accent:240 3.7% 15.9%;--accent-foreground:0 0% 98%;--destructive:0 62.8% 30.6%;--destructive-foreground:0 0% 98%;--border:240 3.7% 15.9%;--input:240 3.7% 15.9%;--ring:240 4.9% 83.9%;--chart-1:220 70% 50%;--chart-2:160 60% 45%;--chart-3:30 80% 55%;--chart-4:280 65% 60%;--chart-5:340 75% 55%}*{border-color:var(--color-border)}body{background-color:var(--color-background);color:var(--color-foreground)}}@layer components;@layer utilities{.visible{visibility:visible}.absolute{position:absolute}.relative{position:relative}.static{position:static}.sticky{position:sticky}.isolate{isolation:isolate}.container{width:100%}@media(min-width:40rem){.container{max-width:40rem}}@media(min-width:48rem){.container{max-width:48rem}}@media(min-width:64rem){.container{max-width:64rem}}@media(min-width:80rem){.container{max-width:80rem}}@media(min-width:96rem){.container{max-width:96rem}}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-auto{margin-top:auto}.mb-4{margin-bottom:calc(var(--spacing)*4)}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-flex{display:inline-flex}.table{display:table}.h-4{height:calc(var(--spacing)*4)}.h-8{height:calc(var(--spacing)*8)}.h-9{height:calc(var(--spacing)*9)}.h-10{height:calc(var(--spacing)*10)}.h-full{height:100%}.w-4{width:calc(var(--spacing)*4)}.w-8{width:calc(var(--spacing)*8)}.w-9{width:calc(var(--spacing)*9)}.w-full{width:100%}.shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.gap-1{gap:calc(var(--spacing)*1)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}:where(.space-y-1\\.5>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1.5)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1.5)*calc(1 - var(--tw-space-y-reverse)))}.overflow-hidden{overflow:hidden}.rounded-full{border-radius:3.40282e38px}.rounded-md{border-radius:var(--radius-md)}.rounded-xl{border-radius:var(--radius-xl)}.border{border-style:var(--tw-border-style);border-width:1px}.border-input{border-color:var(--color-input)}.border-transparent{border-color:#0000}.border-white\\/10{border-color:#ffffff1a}@supports (color:color-mix(in lab,red,red)){.border-white\\/10{border-color:color-mix(in oklab,var(--color-white)10%,transparent)}}.border-zinc-200{border-color:var(--color-zinc-200)}.border-zinc-200\\/50{border-color:#e4e4e780}@supports (color:color-mix(in lab,red,red)){.border-zinc-200\\/50{border-color:color-mix(in oklab,var(--color-zinc-200)50%,transparent)}}.border-zinc-300{border-color:var(--color-zinc-300)}.border-zinc-700{border-color:var(--color-zinc-700)}.border-zinc-800{border-color:var(--color-zinc-800)}.bg-background{background-color:var(--color-background)}.bg-card{background-color:var(--color-card)}.bg-destructive{background-color:var(--color-destructive)}.bg-primary{background-color:var(--color-primary)}.bg-secondary{background-color:var(--color-secondary)}.bg-transparent{background-color:#0000}.bg-white{background-color:var(--color-white)}.bg-white\\/5{background-color:#ffffff0d}@supports (color:color-mix(in lab,red,red)){.bg-white\\/5{background-color:color-mix(in oklab,var(--color-white)5%,transparent)}}.bg-white\\/60{background-color:#fff9}@supports (color:color-mix(in lab,red,red)){.bg-white\\/60{background-color:color-mix(in oklab,var(--color-white)60%,transparent)}}.bg-zinc-100{background-color:var(--color-zinc-100)}.bg-zinc-800{background-color:var(--color-zinc-800)}.bg-zinc-900{background-color:var(--color-zinc-900)}.fill-yellow-500{fill:var(--color-yellow-500)}.object-cover{object-fit:cover}.p-6{padding:calc(var(--spacing)*6)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-8{padding-inline:calc(var(--spacing)*8)}.py-2{padding-block:calc(var(--spacing)*2)}.pt-0{padding-top:calc(var(--spacing)*0)}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.text-\\[10px\\]{font-size:10px}.leading-none{--tw-leading:1;line-height:1}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.tracking-tight{--tw-tracking:var(--tracking-tight);letter-spacing:var(--tracking-tight)}.whitespace-nowrap{white-space:nowrap}.text-\\[\\#00796b\\]{color:#00796b}.text-card-foreground{color:var(--color-card-foreground)}.text-destructive-foreground{color:var(--color-destructive-foreground)}.text-muted-foreground{color:var(--color-muted-foreground)}.text-primary{color:var(--color-primary)}.text-primary-foreground{color:var(--color-primary-foreground)}.text-secondary-foreground{color:var(--color-secondary-foreground)}.text-white{color:var(--color-white)}.text-yellow-500{color:var(--color-yellow-500)}.text-zinc-300{color:var(--color-zinc-300)}.text-zinc-400{color:var(--color-zinc-400)}.text-zinc-500{color:var(--color-zinc-500)}.text-zinc-600{color:var(--color-zinc-600)}.text-zinc-900{color:var(--color-zinc-900)}.italic{font-style:italic}.underline-offset-4{text-underline-offset:4px}.shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-none{--tw-shadow:0 0 #0000;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.outline{outline-style:var(--tw-outline-style);outline-width:1px}.backdrop-blur-md{--tw-backdrop-blur:blur(var(--blur-md));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-300{--tw-duration:.3s;transition-duration:.3s}@media(hover:hover){.hover\\:bg-accent:hover{background-color:var(--color-accent)}.hover\\:bg-destructive\\/90:hover{background-color:color-mix(in srgb,hsl(var(--destructive))90%,transparent)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-destructive\\/90:hover{background-color:color-mix(in oklab,var(--color-destructive)90%,transparent)}}.hover\\:bg-primary\\/90:hover{background-color:color-mix(in srgb,hsl(var(--primary))90%,transparent)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-primary\\/90:hover{background-color:color-mix(in oklab,var(--color-primary)90%,transparent)}}.hover\\:bg-secondary\\/80:hover{background-color:color-mix(in srgb,hsl(var(--secondary))80%,transparent)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-secondary\\/80:hover{background-color:color-mix(in oklab,var(--color-secondary)80%,transparent)}}.hover\\:text-accent-foreground:hover{color:var(--color-accent-foreground)}.hover\\:underline:hover{text-decoration-line:underline}}.focus-visible\\:ring-1:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus-visible\\:ring-ring:focus-visible{--tw-ring-color:var(--color-ring)}.focus-visible\\:outline-none:focus-visible{--tw-outline-style:none;outline-style:none}.disabled\\:pointer-events-none:disabled{pointer-events:none}.disabled\\:opacity-50:disabled{opacity:.5}@media(prefers-color-scheme:dark){.dark\\:text-zinc-700{color:var(--color-zinc-700)}}.\\[\\&_svg\\]\\:pointer-events-none svg{pointer-events:none}.\\[\\&_svg\\]\\:size-4 svg{width:calc(var(--spacing)*4);height:calc(var(--spacing)*4)}.\\[\\&_svg\\]\\:shrink-0 svg{flex-shrink:0}}@media(min-width:640px){.tresta-grid[data-cols="2"],.tresta-grid[data-cols="3"],.tresta-grid[data-cols="4"]{grid-template-columns:repeat(2,1fr)}}@media(min-width:1024px){.tresta-grid[data-cols="3"]{grid-template-columns:repeat(3,1fr)}.tresta-grid[data-cols="4"]{grid-template-columns:repeat(4,1fr)}}@media(min-width:640px){.tresta-masonry[data-cols="2"],.tresta-masonry[data-cols="3"],.tresta-masonry[data-cols="4"]{column-count:2}}@media(min-width:1024px){.tresta-masonry[data-cols="3"]{column-count:3}.tresta-masonry[data-cols="4"]{column-count:4}}@media(min-width:640px){.tresta-wall[data-cols="2"],.tresta-wall[data-cols="3"],.tresta-wall[data-cols="4"]{column-count:2}}@media(min-width:1024px){.tresta-wall[data-cols="3"]{column-count:3}.tresta-wall[data-cols="4"]{column-count:4}}.tresta-wall-item:hover{z-index:1;transform:rotate(0)scale(1.02)!important}.tresta-carousel-track::-webkit-scrollbar{display:none}.tresta-carousel-prev,.tresta-carousel-next{z-index:2;color:#fff;cursor:pointer;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);background:#00000080;border:1px solid #8080804d;border-radius:50%;justify-content:center;align-items:center;width:36px;height:36px;transition:background .2s,opacity .2s;display:flex;position:absolute;top:50%;transform:translateY(-50%)}.tresta-carousel-prev{left:8px}.tresta-carousel-next{right:8px}.tresta-carousel-prev:hover,.tresta-carousel-next:hover{background:#000000bf}.tresta-carousel-dots{justify-content:center;gap:6px;margin-top:16px;display:flex}.tresta-carousel-dot{cursor:pointer;background:#80808066;border:none;border-radius:50%;width:8px;height:8px;padding:0;transition:background .2s,transform .2s}.tresta-carousel-dot.active{background:var(--color-primary,#06f);transform:scale(1.25)}.tresta-marquee-row{width:100%;overflow:hidden}.tresta-marquee-track{gap:16px;width:max-content;animation:30s linear infinite tresta-marquee-scroll;display:flex}.tresta-marquee-reverse .tresta-marquee-track{animation-direction:reverse}.tresta-marquee:hover .tresta-marquee-track{animation-play-state:paused}.tresta-marquee-item{flex:0 0 320px;min-width:280px;max-width:320px}@keyframes tresta-marquee-scroll{0%{transform:translate(0)}to{transform:translate(-50%)}}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}';class K{constructor(e={}){p(this,"shadowRoot",null),p(this,"useShadowDOM"),p(this,"debug"),p(this,"themeManager"),p(this,"nonceApplier"),this.useShadowDOM=e.useShadowDOM??this.detectShadowDOMSupport(),this.debug=e.debug??!1,this.nonceApplier=e.nonceApplier;const t={debug:this.debug};e.theme&&(t.theme=e.theme),this.themeManager=new G(t),this.debug&&console.log(`[TrestaWidget] StyleManager initialized with Shadow DOM: ${this.useShadowDOM}`)}detectShadowDOMSupport(){return"attachShadow"in Element.prototype}initializeStyles(e){return this.useShadowDOM?this.initializeShadowDOM(e):this.initializeNamespacedCSS(e)}initializeShadowDOM(e){this.shadowRoot=e.attachShadow({mode:"open"});const t=document.createElement("style");this.applyNonce(t),t.textContent=this.getShadowDOMStyles(),this.shadowRoot.appendChild(t);const r=document.createElement("div");return r.setAttribute("data-tresta-widget-root","true"),r.setAttribute("data-tresta-widget","true"),this.shadowRoot.appendChild(r),this.themeManager.applyTheme(r),this.debug&&console.log("[TrestaWidget] Shadow DOM initialized"),r}initializeNamespacedCSS(e){if(e.classList.add("tresta-widget"),!document.getElementById("tresta-widget-styles")){const e=document.createElement("style");e.id="tresta-widget-styles",this.applyNonce(e),e.textContent=this.getNamespacedStyles(),document.head.appendChild(e)}const t=document.createElement("div");return t.setAttribute("data-tresta-widget-root","true"),t.setAttribute("data-tresta-widget","true"),t.classList.add("tresta-widget-root"),e.appendChild(t),this.themeManager.applyTheme(t),this.debug&&console.log("[TrestaWidget] Namespaced CSS initialized"),t}getShadowDOMStyles(){return V}getNamespacedStyles(){let e=V.replace(/:root\s*{/g,".tresta-widget {").replace(/\[data-tresta-widget\]/g,".tresta-widget-root");return e=`.tresta-widget { all: initial; }\n${e}`,e}cleanup(){this.shadowRoot=null}getThemeManager(){return this.themeManager}isShadowDOM(){return this.useShadowDOM}getShadowRoot(){return this.shadowRoot}applyNonce(e){this.nonceApplier&&this.nonceApplier(e)}}class J{constructor(){p(this,"requestInterceptors",[]),p(this,"responseInterceptors",[])}addRequestInterceptor(e){this.requestInterceptors.push(e)}addResponseInterceptor(e){this.responseInterceptors.push(e)}async request(e,t={}){let r=e,o=t;for(const i of this.requestInterceptors){const e=await i(r,o);r=e.url,o=e.options}let n=await async function(e,t={}){const{method:r="GET",headers:o={},body:n,timeout:i=1e4}=t,a=new AbortController,s=setTimeout(()=>a.abort(),i);try{const t={method:r,headers:{"Content-Type":"application/json",...o},signal:a.signal,credentials:"omit"};n&&"GET"!==r&&(t.body=JSON.stringify(n));const i=await fetch(e,t);let l;clearTimeout(s);const c=i.headers.get("content-type");return l=c&&c.includes("application/json")?await i.json():await i.text(),{data:l,status:i.status,headers:i.headers}}catch(l){if(clearTimeout(s),l instanceof Error&&"AbortError"===l.name)throw new H(F.API_TIMEOUT,`Request timed out after ${i}ms`,!0);if(l instanceof TypeError)throw new H(F.NETWORK_ERROR,"Network request failed. Please check your connection.",!0);throw l}}(r,o);for(const i of this.responseInterceptors)n=await i(n);return n}}const Z={maxRetries:3,baseDelay:1e3,maxDelay:1e4,jitter:1e3};function X(e,t){const r=t.baseDelay*Math.pow(2,e),o=Math.random()*t.jitter;return Math.min(r+o,t.maxDelay)}function Y(e){return new Promise(t=>setTimeout(t,e))}function Q(e){if(e instanceof H){const t=[F.API_TIMEOUT,F.NETWORK_ERROR,F.API_ERROR];return e.recoverable&&t.includes(e.code)}return!1}const ee={maxRequests:100,windowMs:6e4};class te{constructor(e={}){p(this,"config"),p(this,"records",new Map),this.config={...ee,...e}}isAllowed(e){const t=Date.now(),r=this.getOrCreateRecord(e);return r.timestamps=r.timestamps.filter(e=>t-e<this.config.windowMs),r.timestamps.length<this.config.maxRequests&&(r.timestamps.push(t),!0)}getRetryAfter(e){const t=Date.now(),r=this.records.get(e);if(!r||0===r.timestamps.length)return 0;if(r.timestamps=r.timestamps.filter(e=>t-e<this.config.windowMs),r.timestamps.length<this.config.maxRequests)return 0;const o=r.timestamps[0];if(!o)return 0;const n=o+this.config.windowMs-t;return Math.max(0,n)}reset(e){this.records.delete(e)}resetAll(){this.records.clear()}getRequestCount(e){const t=Date.now(),r=this.records.get(e);return r?r.timestamps.filter(e=>t-e<this.config.windowMs).length:0}getOrCreateRecord(e){let t=this.records.get(e);return t||(t={timestamps:[]},this.records.set(e,t)),t}updateConfig(e){this.config={...this.config,...e}}getConfig(){return{...this.config}}}const re={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},oe=(()=>{if(void 0!=={url:g&&"SCRIPT"===g.tagName.toUpperCase()&&g.src||new URL("tresta-widget.js",document.baseURI).href}&&re)return re;const e="undefined"!=typeof globalThis?globalThis.process:void 0;return e?.env?e.env:{}})(),ne=(...e)=>{for(const t of e){const e=oe[t];if("string"==typeof e&&e.trim().length>0)return e}},ie=e=>{if(e)return e.replace(/\/+$/,"")},ae=e=>{if(e)try{return new URL(e).hostname}catch{return e.replace(/^https?:\/\//,"").replace(/\/.+$/,"").trim()}},se=ie(ne("VITE_WIDGET_CDN_BASE_URL","NEXT_PUBLIC_WIDGET_CDN_BASE_URL"))??"https://api.tresta.app",le=ie(ne("VITE_WIDGET_API_BASE_URL","NEXT_PUBLIC_WIDGET_API_BASE_URL"))??"https://api.tresta.app",ce=ie(ne("VITE_WIDGET_TELEMETRY_ENDPOINT","NEXT_PUBLIC_WIDGET_TELEMETRY_ENDPOINT"))??`${le}/telemetry`;ie(ne("VITE_WIDGET_BRANDING_URL","NEXT_PUBLIC_WIDGET_BRANDING_URL"));const de=(ue=ne("VITE_WIDGET_ALLOWED_DOMAINS","NEXT_PUBLIC_WIDGET_ALLOWED_DOMAINS"))?ue.split(",").map(e=>e.trim()).filter(Boolean):[];var ue;const he=Array.from(new Set([ae(se),ae(le),...de].filter(Boolean))),pe={baseURL:le,timeout:1e4,maxRetries:3};class ge{constructor(e={},t,r){p(this,"config"),p(this,"networkClient"),p(this,"rateLimiter"),p(this,"apiKey"),p(this,"logger",null),this.config={...pe,...e},this.networkClient=new J,this.rateLimiter=new te({maxRequests:100,windowMs:6e4}),this.apiKey=t,this.logger=r||null}async fetchWidgetData(e){if(!this.apiKey)throw new H(F.UNAUTHORIZED,"API key is required. Please provide an API key.",!1);if(!this.rateLimiter.isAllowed(e)){const t=this.rateLimiter.getRetryAfter(e),r=`Rate limit exceeded for widget ${e}. Retry after ${Math.ceil(t/1e3)}s`;throw this.logger?this.logger.warn(r):console.warn(`[TrestaWidget] ${r}`),new H(F.RATE_LIMITED,`Rate limit exceeded. Please try again in ${Math.ceil(t/1e3)} seconds.`,!0)}return async function(e,t={}){const r={...Z,...t};let o;for(let i=0;i<r.maxRetries;i++)try{return await e()}catch(n){if(o=n,!Q(n))throw n;if(i===r.maxRetries-1)throw n;const e=X(i,r);n instanceof H&&console.warn(`[TrestaWidget] Request failed (attempt ${i+1}/${r.maxRetries}): ${n.message}. Retrying in ${Math.round(e)}ms...`),await Y(e)}throw o}(async()=>{const t=`${this.config.baseURL}/api/widgets/${e}/public`;this.logger&&(this.logger.debug(`Fetching widget data from: ${t}`),this.logger.debug(`Using API key: ${this.apiKey?.substring(0,15)}...`));try{const r=await this.networkClient.request(t,{method:"GET",timeout:this.config.timeout,headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"}});this.logger&&this.logger.debug("Received response:",r.status);const o=this.handleResponse(r,e);return this.transformApiResponse(o)}catch(r){if(r instanceof H)throw r;const t=`Unexpected error for widget ${e}:`;throw this.logger?this.logger.error(t,r):console.error(`[TrestaWidget] ${t}`,r),new H(F.API_ERROR,"An unexpected error occurred while fetching widget data",!0)}},{maxRetries:this.config.maxRetries})}transformApiResponse(e){this.logger&&this.logger.debug("Raw API response:",e);const t=e.data||e;if(!t||!t.widget){const e={hasData:!!t,hasWidget:!!t?.widget};throw this.logger?this.logger.error("Invalid API response structure:",e):console.error("[TrestaWidget] Invalid API response structure:",e),new H(F.PARSE_ERROR,"Invalid API response format",!1)}this.logger&&this.logger.debug("Transforming widget data:",{widgetId:t.widget.id,testimonialCount:t.testimonials?.length||0});const r=t.widget.settings??{},o=t.widget.layout||"grid",n=r.maxTestimonials??10,i="carousel"===o&&(r.autoRotate??!1),a=r.rotateInterval??5e3,s="carousel"===o&&(r.showNavigation??!0),l=r.columns??("grid"===o?3:1);return{widgetId:t.widget.id,config:{layout:{type:o,maxTestimonials:n,autoRotate:i,rotateInterval:a,showNavigation:s,columns:l},theme:{mode:r.theme||"light",primaryColor:t.widget.theme?.primaryColor||"#0066FF",secondaryColor:t.widget.theme?.secondaryColor||"#00CC99",fontFamily:r.fontFamily,cardStyle:r.cardStyle||"default"},display:{showRating:r.showRating??!0,showDate:r.showDate??!0,showAvatar:r.showAvatar??!0,showAuthorRole:r.showAuthorRole??!0,showAuthorCompany:r.showAuthorCompany??!0,maxTestimonials:n}},testimonials:(t.testimonials||[]).map(e=>({id:e.id,content:e.content,rating:e.rating,createdAt:e.createdAt,isPublished:!0,isApproved:!0,isOAuthVerified:e.isOAuthVerified||!1,oauthProvider:e.oauthProvider,author:{name:e.authorName,email:void 0,avatar:e.authorAvatar,role:e.authorRole,company:e.authorCompany},media:e.videoUrl?{type:"video",url:e.videoUrl}:void 0}))}}handleResponse(e,t){const{data:r,status:o,headers:n}=e;if(o>=200&&o<300)return r;switch(o){case 401:case 403:{const e=`Unauthorized access for widget ${t} (${o})`;throw this.logger?this.logger.error(e):console.error(`[TrestaWidget] ${e}`),new H(F.UNAUTHORIZED,"Unable to load testimonials. Please check your widget configuration.",!1)}case 404:{const e=`Widget ${t} not found (404)`;throw this.logger?this.logger.error(e):console.error(`[TrestaWidget] ${e}`),new H(F.INVALID_WIDGET_ID,"Widget not found. Please check your widget ID.",!1)}case 429:{const e=n.get("Retry-After"),r=e?1e3*parseInt(e,10):6e4,o=`Server rate limit for widget ${t}. Retry after ${r/1e3}s`;throw this.logger?this.logger.warn(o):console.warn(`[TrestaWidget] ${o}`),new H(F.RATE_LIMITED,`Rate limit exceeded. Please try again in ${Math.ceil(r/1e3)} seconds.`,!0)}case 500:case 502:case 503:case 504:{const e=`Server error for widget ${t} (${o})`;throw this.logger?this.logger.error(e):console.error(`[TrestaWidget] ${e}`),new H(F.API_ERROR,"Server error. Please try again later.",!0)}default:{const e=`Unexpected status code ${o} for widget ${t}`;throw this.logger?this.logger.error(e):console.error(`[TrestaWidget] ${e}`),new H(F.API_ERROR,`Unexpected error (${o}). Please try again later.`,o>=500)}}}getNetworkClient(){return this.networkClient}getRateLimiter(){return this.rateLimiter}updateConfig(e){this.config={...this.config,...e}}getConfig(){return{...this.config}}}const me="testimonials";class fe{constructor(){p(this,"dbPromise",null),p(this,"available",null)}async isAvailable(){if(null!==this.available)return this.available;try{return"indexedDB"in window?((await new Promise((e,t)=>{const r=indexedDB.open("__test__",1);r.onerror=()=>t(r.error),r.onsuccess=()=>e(r.result),r.onupgradeneeded=()=>{r.result.createObjectStore("test")}})).close(),indexedDB.deleteDatabase("__test__"),this.available=!0,!0):(this.available=!1,!1)}catch(e){return console.warn("[TrestaWidget] IndexedDB unavailable, will use localStorage fallback:",e),this.available=!1,!1}}async getDB(){return this.dbPromise||(this.dbPromise=new Promise((e,t)=>{const r=indexedDB.open("tresta-widget-cache",1);r.onerror=()=>{t(new Error(`Failed to open IndexedDB: ${r.error}`))},r.onsuccess=()=>{e(r.result)},r.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains(me)||t.createObjectStore(me,{keyPath:"widgetId"}).createIndex("expiresAt","expiresAt",{unique:!1})}})),this.dbPromise}async get(e){try{const t=await this.getDB();return new Promise((r,o)=>{const n=t.transaction([me],"readonly").objectStore(me).get(e);n.onerror=()=>o(n.error),n.onsuccess=()=>{const t=n.result;t&&t.expiresAt<Date.now()?(this.delete(e).catch(()=>{}),r(null)):r(t||null)}})}catch(t){return console.error("[TrestaWidget] IndexedDB get error:",t),null}}async set(e,t){try{const e=await this.getDB();return new Promise((r,o)=>{const n=e.transaction([me],"readwrite").objectStore(me).put(t);n.onerror=()=>o(n.error),n.onsuccess=()=>r()})}catch(r){throw console.error("[TrestaWidget] IndexedDB set error:",r),r}}async delete(e){try{const t=await this.getDB();return new Promise((r,o)=>{const n=t.transaction([me],"readwrite").objectStore(me).delete(e);n.onerror=()=>o(n.error),n.onsuccess=()=>r()})}catch(t){throw console.error("[TrestaWidget] IndexedDB delete error:",t),t}}async clear(){try{const e=await this.getDB();return new Promise((t,r)=>{const o=e.transaction([me],"readwrite").objectStore(me).clear();o.onerror=()=>r(o.error),o.onsuccess=()=>t()})}catch(e){throw console.error("[TrestaWidget] IndexedDB clear error:",e),e}}async clearExpired(){try{const e=await this.getDB(),t=Date.now();return new Promise((r,o)=>{const n=e.transaction([me],"readwrite").objectStore(me).index("expiresAt"),i=IDBKeyRange.upperBound(t),a=n.openCursor(i);a.onerror=()=>o(a.error),a.onsuccess=e=>{const t=e.target.result;t?(t.delete(),t.continue()):r()}})}catch(e){console.error("[TrestaWidget] IndexedDB clearExpired error:",e)}}}const _e="tresta-widget-";class be{constructor(){p(this,"available",null)}async isAvailable(){if(null!==this.available)return this.available;try{const e="__tresta_test__";return localStorage.setItem(e,"test"),localStorage.removeItem(e),this.available=!0,!0}catch(e){return console.warn("[TrestaWidget] localStorage unavailable:",e),this.available=!1,!1}}async get(e){try{const t=_e+e,r=localStorage.getItem(t);if(!r)return null;const o=JSON.parse(r);return o.expiresAt<Date.now()?(await this.delete(e),null):o}catch(t){return console.error("[TrestaWidget] localStorage get error:",t),null}}async set(e,t){try{const r=_e+e,o=JSON.stringify(t);localStorage.setItem(r,o)}catch(r){if(!(r instanceof DOMException)||"QuotaExceededError"!==r.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==r.name)throw console.error("[TrestaWidget] localStorage set error:",r),r;console.warn("[TrestaWidget] localStorage quota exceeded, clearing old entries"),await this.clearExpired();try{const r=_e+e,o=JSON.stringify(t);localStorage.setItem(r,o)}catch(o){throw console.error("[TrestaWidget] localStorage set error after cleanup:",o),o}}}async delete(e){try{const t=_e+e;localStorage.removeItem(t)}catch(t){throw console.error("[TrestaWidget] localStorage delete error:",t),t}}async clear(){try{const e=[];for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);r&&r.startsWith(_e)&&e.push(r)}e.forEach(e=>localStorage.removeItem(e))}catch(e){throw console.error("[TrestaWidget] localStorage clear error:",e),e}}async clearExpired(){try{const t=Date.now(),r=[];for(let o=0;o<localStorage.length;o++){const n=localStorage.key(o);if(n&&n.startsWith(_e))try{const e=localStorage.getItem(n);e&&JSON.parse(e).expiresAt<t&&r.push(n)}catch(e){r.push(n)}}r.forEach(e=>localStorage.removeItem(e))}catch(t){console.error("[TrestaWidget] localStorage clearExpired error:",t)}}}const we=864e5;class ve{constructor(){p(this,"adapter",null),p(this,"initPromise",null)}async init(){return this.initPromise||(this.initPromise=(async()=>{const e=new fe;if(await e.isAvailable())return this.adapter=e,console.log("[TrestaWidget] Using IndexedDB for caching"),void this.clearExpired().catch(()=>{});const t=new be;if(await t.isAvailable())return this.adapter=t,console.log("[TrestaWidget] Using localStorage for caching (IndexedDB unavailable)"),void this.clearExpired().catch(()=>{});console.warn("[TrestaWidget] No storage available, caching disabled"),this.adapter=null})()),this.initPromise}async getAdapter(){return await this.init(),this.adapter}getCacheKey(e){return`tresta-widget-${e}`}getTTL(){return this.adapter instanceof fe?we:this.adapter instanceof be?36e5:we}async get(e){try{const t=await this.getAdapter();if(!t)return null;const r=this.getCacheKey(e),o=await t.get(r);return o?o.data:null}catch(t){return console.error("[TrestaWidget] Cache get error:",t),null}}async set(e,t,r){try{const o=await this.getAdapter();if(!o)return;const n=this.getCacheKey(e),i=Date.now(),a={widgetId:e,data:t,timestamp:i,expiresAt:i+(r??this.getTTL())};await o.set(n,a)}catch(o){console.error("[TrestaWidget] Cache set error:",o)}}async delete(e){try{const t=await this.getAdapter();if(!t)return;const r=this.getCacheKey(e);await t.delete(r)}catch(t){console.error("[TrestaWidget] Cache delete error:",t)}}async clear(){try{const e=await this.getAdapter();if(!e)return;await e.clear()}catch(e){console.error("[TrestaWidget] Cache clear error:",e)}}async clearExpired(){try{const e=await this.getAdapter();if(!e)return;"clearExpired"in e&&"function"==typeof e.clearExpired&&await e.clearExpired()}catch(e){console.error("[TrestaWidget] Cache clearExpired error:",e)}}}class ye{constructor(e=.01){p(this,"samplingRate"),this.samplingRate=Math.max(0,Math.min(1,e))}shouldSample(){return Math.random()<this.samplingRate}setSamplingRate(e){this.samplingRate=Math.max(0,Math.min(1,e))}getSamplingRate(){return this.samplingRate}}class xe{constructor(e,t,r={}){p(this,"config"),p(this,"sampler"),p(this,"errorCounts",new Map),p(this,"loadStartTime",0),p(this,"widgetId"),p(this,"version"),p(this,"layoutType"),this.widgetId=e,this.version=t;const o=!1===r.enabled,n=this.isDNTEnabled();this.config={enabled:!o&&!n,samplingRate:r.samplingRate??.01,endpoint:r.endpoint??ce},this.sampler=new ye(this.config.samplingRate)}isDNTEnabled(){if("undefined"!=typeof navigator){const e=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;if("1"===e||"yes"===e||!0===e)return!0}return!1}startLoadTracking(){this.config.enabled&&(this.loadStartTime=performance.now())}trackLoad(e){if(!this.config.enabled)return;if(!this.sampler.shouldSample())return;this.layoutType=e||"unknown";const t=this.loadStartTime>0?performance.now()-this.loadStartTime:0,r={widgetId:this.widgetId,version:this.version,eventType:"load",loadTime:Math.round(t),layoutType:e||"unknown",timestamp:Date.now()};this.send(r)}trackError(e){if(!this.config.enabled)return;const t=this.errorCounts.get(e)||0;if(this.errorCounts.set(e,t+1),!this.sampler.shouldSample())return;const r={widgetId:this.widgetId,version:this.version,eventType:"error",errorCode:e,timestamp:Date.now()};this.send(r)}trackInteraction(e){if(!this.config.enabled)return;if(!this.sampler.shouldSample())return;const t={widgetId:this.widgetId,version:this.version,eventType:"interaction",layoutType:e||this.layoutType||"unknown",timestamp:Date.now()};this.send(t)}getTelemetryData(){const e=this.loadStartTime>0?performance.now()-this.loadStartTime:0,t={};return this.errorCounts.forEach((e,r)=>{t[r]=e}),{widgetId:this.widgetId,version:this.version,loadTime:Math.round(e),layoutType:this.layoutType||"unknown",errorCounts:t}}send(e){if(this.config.enabled&&this.config.endpoint)if("undefined"!=typeof navigator&&navigator.sendBeacon)try{const t=new Blob([JSON.stringify(e)],{type:"application/json"});navigator.sendBeacon(this.config.endpoint,t)}catch(t){}else try{fetch(this.config.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),keepalive:!0,credentials:"omit"}).catch(()=>{})}catch(t){}}isEnabled(){return this.config.enabled}setSamplingRate(e){this.config.samplingRate=e,this.sampler.setSamplingRate(e)}disable(){this.config.enabled=!1}enable(){this.isDNTEnabled()||(this.config.enabled=!0)}}function ke(e){return[...e].sort((e,t)=>{const r=new Date(e.createdAt).getTime();return new Date(t.createdAt).getTime()-r})}class Re{constructor(e,t="1.0.0",r=!1){p(this,"widgetId"),p(this,"version"),p(this,"debugEnabled"),this.widgetId=e,this.version=t,this.debugEnabled=r}debug(e,...t){this.debugEnabled}info(e,...t){console.log(`[TrestaWidget v${this.version}]`,e,...t)}warn(e,...t){console.warn(`[TrestaWidget v${this.version}]`,e,...t)}error(e,...t){console.error(`[TrestaWidget v${this.version}]`,e,...t)}logEmpty(){this.debugEnabled}isDebugEnabled(){return this.debugEnabled}getWidgetId(){return this.widgetId}getVersion(){return this.version}}const Te=[...he];class Se{constructor(e={}){p(this,"config"),p(this,"violations",[]),this.config={allowedDomains:Te,reportViolations:!0,...e},this.config.reportViolations&&"undefined"!=typeof document&&this.setupViolationListener()}validateURL(e){if(!e)return!1;if(e.startsWith("/")||e.startsWith("./")||e.startsWith("../"))return!0;if(e.startsWith("data:"))return!0;try{const t=new URL(e).hostname;return this.config.allowedDomains.some(e=>t===e||t.endsWith(`.${e}`))}catch{return!1}}validateResources(e){const t=[];return e.querySelectorAll("img").forEach(e=>{const r=e.getAttribute("src");r&&!this.validateURL(r)&&t.push({type:"image",url:r,element:e,message:`Image source not from allowed domain: ${r}`})}),e.querySelectorAll("script").forEach(e=>{t.push({type:"script",url:e.getAttribute("src")||"inline",element:e,message:"Script tag found in widget content (CSP violation)"})}),e.querySelectorAll("iframe").forEach(e=>{t.push({type:"iframe",url:e.getAttribute("src")||"inline",element:e,message:"Iframe found in widget content (CSP violation)"})}),e.querySelectorAll("a").forEach(e=>{const r=e.getAttribute("href");r&&r.startsWith("javascript:")&&t.push({type:"link",url:r,element:e,message:"JavaScript URL in link (CSP violation)"})}),e.querySelectorAll("[onclick], [onload], [onerror], [onmouseover]").forEach(e=>{t.push({type:"inline-event",url:"inline",element:e,message:"Inline event handler found (CSP violation)"})}),{valid:0===t.length,violations:t}}async detectStrictCSP(){try{const e=document.querySelector('meta[http-equiv="Content-Security-Policy"]');if(e){const t=e.getAttribute("content")||"";return t.includes("'strict-dynamic'")||!t.includes("'unsafe-inline'")&&!t.includes("'unsafe-eval'")}}catch{}return!1}getNonce(){if(this.config.nonce)return this.config.nonce;if("undefined"!=typeof document){const e=document.querySelectorAll("script[data-widget-id]");for(const t of Array.from(e)){const e=t.getAttribute("nonce");if(e)return e}}return null}applyNonce(e){const t=this.getNonce();t&&("SCRIPT"!==e.tagName&&"STYLE"!==e.tagName||e.setAttribute("nonce",t))}getViolations(){return[...this.violations]}clearViolations(){this.violations=[]}setupViolationListener(){"undefined"!=typeof document&&document.addEventListener("securitypolicyviolation",e=>{e.blockedURI&&this.isWidgetRelated(e)&&(this.violations.push({type:"csp-violation",url:e.blockedURI,message:`CSP violation: ${e.violatedDirective} - ${e.blockedURI}`,directive:e.violatedDirective}),console.warn("[TrestaWidget] CSP violation detected:",{directive:e.violatedDirective,blockedURI:e.blockedURI,sourceFile:e.sourceFile}))})}isWidgetRelated(e){const t=e.blockedURI,r=e.sourceFile;return this.config.allowedDomains.some(e=>t.includes(e)||r?.includes(e))||r?.includes("tresta-widget")||t.includes("tresta-widget")}}new Se;var Ee=0;function Ie(e,t,o,n,i,a){t||(t={});var s,l,c=t;if("ref"in c)for(l in c={},t)"ref"==l?s=t[l]:c[l]=t[l];var d={type:e,props:c,key:o,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Ee,__i:-1,__u:0,__source:i,__self:a};if("function"==typeof e&&(s=e.defaultProps))for(l in s)void 0===c[l]&&(c[l]=s[l]);return r.vnode&&r.vnode(d),d}var Ce,Ae,Ne,ze,De=0,Me=[],Pe=r,We=Pe.__b,Oe=Pe.__r,Ue=Pe.diffed,$e=Pe.__c,Le=Pe.unmount,je=Pe.__;function qe(e,t){Pe.__h&&Pe.__h(Ae,e,De||t),De=0;var r=Ae.__H||(Ae.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function Be(e,t){var r=qe(Ce++,3);!Pe.__s&&Xe(r.__H,t)&&(r.__=e,r.u=t,Ae.__H.__h.push(r))}function Fe(e,t){var r=qe(Ce++,7);return Xe(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function He(e,t){return De=8,Fe(function(){return e},t)}function Ge(){for(var e;e=Me.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Je),e.__H.__h.forEach(Ze),e.__H.__h=[]}catch(t){e.__H.__h=[],Pe.__e(t,e.__v)}}Pe.__b=function(e){Ae=null,We&&We(e)},Pe.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),je&&je(e,t)},Pe.__r=function(e){Oe&&Oe(e),Ce=0;var t=(Ae=e.__c).__H;t&&(Ne===Ae?(t.__h=[],Ae.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(Je),t.__h.forEach(Ze),t.__h=[],Ce=0)),Ne=Ae},Pe.diffed=function(e){Ue&&Ue(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Me.push(t)&&ze===Pe.requestAnimationFrame||((ze=Pe.requestAnimationFrame)||Ke)(Ge)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),Ne=Ae=null},Pe.__c=function(e,t){t.some(function(e){try{e.__h.forEach(Je),e.__h=e.__h.filter(function(e){return!e.__||Ze(e)})}catch(r){t.some(function(e){e.__h&&(e.__h=[])}),t=[],Pe.__e(r,e.__v)}}),$e&&$e(e,t)},Pe.unmount=function(e){Le&&Le(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(e){try{Je(e)}catch(r){t=r}}),r.__H=void 0,t&&Pe.__e(t,r.__v))};var Ve="function"==typeof requestAnimationFrame;function Ke(e){var t,r=function(){clearTimeout(o),Ve&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(r,35);Ve&&(t=requestAnimationFrame(r))}function Je(e){var t=Ae,r=e.__c;"function"==typeof r&&(e.__c=void 0,r()),Ae=t}function Ze(e){var t=Ae;e.__c=e.__(),Ae=t}function Xe(e,t){return!e||e.length!==t.length||t.some(function(t,r){return t!==e[r]})}function Ye(e,t){return"function"==typeof t?t(e):t}function Qe(e,t){for(var r in t)e[r]=t[r];return e}function et(e,t){for(var r in e)if("__source"!==r&&!(r in t))return!0;for(var o in t)if("__source"!==o&&e[o]!==t[o])return!0;return!1}function tt(e,t){this.props=e,this.context=t}(tt.prototype=new R).isPureReactComponent=!0,tt.prototype.shouldComponentUpdate=function(e,t){return et(this.props,e)||et(this.state,t)};var rt=r.__b;r.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),rt&&rt(e)};var ot="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function nt(e){function t(t){var r=Qe({},t);return delete r.ref,e(r,t.ref||null)}return t.$$typeof=ot,t.render=e,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var it=r.__e;r.__e=function(e,t,r,o){if(e.then)for(var n,i=t;i=i.__;)if((n=i.__c)&&n.__c)return null==t.__e&&(t.__e=r.__e,t.__k=r.__k),n.__c(e,t);it(e,t,r,o)};var at=r.unmount;function st(e,t,r){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),e.__c.__H=null),null!=(e=Qe({},e)).__c&&(e.__c.__P===r&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(e){return st(e,t,r)})),e}function lt(e,t,r){return e&&r&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(e){return lt(e,t,r)}),e.__c&&e.__c.__P===t&&(e.__e&&r.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=r)),e}function ct(){this.__u=0,this.o=null,this.__b=null}function dt(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function ut(){this.i=null,this.l=null}r.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),at&&at(e)},(ct.prototype=new R).__c=function(e,t){var r=t.__c,o=this;null==o.o&&(o.o=[]),o.o.push(r);var n=dt(o.__v),i=!1,a=function(){i||(i=!0,r.__R=null,n?n(s):s())};r.__R=a;var s=function(){if(! --o.__u){if(o.state.__a){var e=o.state.__a;o.__v.__k[0]=lt(e,e.__c.__P,e.__c.__O)}var t;for(o.setState({__a:o.__b=null});t=o.o.pop();)t.forceUpdate()}};o.__u++||32&t.__u||o.setState({__a:o.__b=o.__v.__k[0]}),e.then(a,a)},ct.prototype.componentWillUnmount=function(){this.o=[]},ct.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=st(this.__b,r,o.__O=o.__P)}this.__b=null}var n=t.__a&&y(k,null,e.fallback);return n&&(n.__u&=-33),[y(k,null,t.__a?null:e.children),n]};var ht=function(e,t,r){if(++r[1]===r[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};(ut.prototype=new R).__a=function(e){var t=this,r=dt(t.__v),o=t.l.get(e);return o[0]++,function(n){var i=function(){t.props.revealOrder?(o.push(n),ht(t,e,o)):n()};r?r(i):i()}},ut.prototype.render=function(e){this.i=null,this.l=new Map;var t=N(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var r=t.length;r--;)this.l.set(t[r],this.i=[1,0,this.i]);return e.children},ut.prototype.componentDidUpdate=ut.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,r){ht(e,r,t)})};var pt="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,gt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,mt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,ft=/[A-Z0-9]/g,_t="undefined"!=typeof document,bt=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};R.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(R.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var wt=r.event;function vt(){}function yt(){return this.cancelBubble}function xt(){return this.defaultPrevented}r.event=function(e){return wt&&(e=wt(e)),e.persist=vt,e.isPropagationStopped=yt,e.isDefaultPrevented=xt,e.nativeEvent=e};var kt={enumerable:!1,configurable:!0,get:function(){return this.class}},Rt=r.vnode;r.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,r=e.type,o={},n=-1===r.indexOf("-");for(var i in t){var a=t[i];if(!("value"===i&&"defaultValue"in t&&null==a||_t&&"children"===i&&"noscript"===r||"class"===i||"className"===i)){var s=i.toLowerCase();"defaultValue"===i&&"value"in t&&null==t.value?i="value":"download"===i&&!0===a?a="":"translate"===s&&"no"===a?a=!1:"o"===s[0]&&"n"===s[1]?"ondoubleclick"===s?i="ondblclick":"onchange"!==s||"input"!==r&&"textarea"!==r||bt(t.type)?"onfocus"===s?i="onfocusin":"onblur"===s?i="onfocusout":mt.test(i)&&(i=s):s=i="oninput":n&&gt.test(i)?i=i.replace(ft,"-$&").toLowerCase():null===a&&(a=void 0),"oninput"===s&&o[i=s]&&(i="oninputCapture"),o[i]=a}}"select"==r&&o.multiple&&Array.isArray(o.value)&&(o.value=N(t.children).forEach(function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)})),"select"==r&&null!=o.defaultValue&&(o.value=N(t.children).forEach(function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value})),t.class&&!t.className?(o.class=t.class,Object.defineProperty(o,"className",kt)):(t.className&&!t.class||t.class&&t.className)&&(o.class=o.className=t.className),e.props=o}(e),e.$$typeof=pt,Rt&&Rt(e)};var Tt=r.__r;r.__r=function(e){Tt&&Tt(e),e.__c};var St=r.diffed;function Et(e){var t,r,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=Et(e[t]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}r.diffed=function(e){St&&St(e);var t=e.props,r=e.__e;null!=r&&"textarea"===e.type&&"value"in t&&t.value!==r.value&&(r.value=null==t.value?"":t.value)};const It=e=>{const t=zt(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:e=>{const r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),Ct(r,t)||Nt(e)},getConflictingClassGroupIds:(e,t)=>{const n=r[e]||[];return t&&o[e]?[...n,...o[e]]:n}}},Ct=(e,t)=>{if(0===e.length)return t.classGroupId;const r=e[0],o=t.nextPart.get(r),n=o?Ct(e.slice(1),o):void 0;if(n)return n;if(0===t.validators.length)return;const i=e.join("-");return t.validators.find(({validator:e})=>e(i))?.classGroupId},At=/^\[(.+)\]$/,Nt=e=>{if(At.test(e)){const t=At.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},zt=e=>{const{theme:t,classGroups:r}=e,o={nextPart:new Map,validators:[]};for(const n in r)Dt(r[n],o,n,t);return o},Dt=(e,t,r,o)=>{e.forEach(e=>{if("string"!=typeof e)return"function"==typeof e?Pt(e)?void Dt(e(o),t,r,o):void t.validators.push({validator:e,classGroupId:r}):void Object.entries(e).forEach(([e,n])=>{Dt(n,Mt(t,e),r,o)});(""===e?t:Mt(t,e)).classGroupId=r})},Mt=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},Pt=e=>e.isThemeGetter,Wt=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,o=new Map;const n=(n,i)=>{r.set(n,i),t++,t>e&&(t=0,o=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=o.get(e))?(n(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):n(e,t)}}},Ot=e=>{const{prefix:t,experimentalParseClassName:r}=e;let o=e=>{const t=[];let r,o=0,n=0,i=0;for(let l=0;l<e.length;l++){let a=e[l];if(0===o&&0===n){if(":"===a){t.push(e.slice(i,l)),i=l+1;continue}if("/"===a){r=l;continue}}"["===a?o++:"]"===a?o--:"("===a?n++:")"===a&&n--}const a=0===t.length?e:e.substring(i),s=Ut(a);return{modifiers:t,hasImportantModifier:s!==a,baseClassName:s,maybePostfixModifierPosition:r&&r>i?r-i:void 0}};if(t){const e=t+":",r=o;o=t=>t.startsWith(e)?r(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(r){const e=o;o=t=>r({className:t,parseClassName:e})}return o},Ut=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,$t=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const r=[];let o=[];return e.forEach(e=>{"["===e[0]||t[e]?(r.push(...o.sort(),e),o=[]):o.push(e)}),r.push(...o.sort()),r}},Lt=/\s+/;function jt(){let e,t,r=0,o="";for(;r<arguments.length;)(e=arguments[r++])&&(t=qt(e))&&(o&&(o+=" "),o+=t);return o}const qt=e=>{if("string"==typeof e)return e;let t,r="";for(let o=0;o<e.length;o++)e[o]&&(t=qt(e[o]))&&(r&&(r+=" "),r+=t);return r};function Bt(e,...t){let r,o,n,i=function(s){const l=t.reduce((e,t)=>t(e),e());return r=(e=>({cache:Wt(e.cacheSize),parseClassName:Ot(e),sortModifiers:$t(e),...It(e)}))(l),o=r.cache.get,n=r.cache.set,i=a,a(s)};function a(e){const t=o(e);if(t)return t;const i=((e,t)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:n,sortModifiers:i}=t,a=[],s=e.trim().split(Lt);let l="";for(let c=s.length-1;c>=0;c-=1){const e=s[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:p}=r(e);if(t){l=e+(l.length>0?" "+l:l);continue}let g=!!p,m=o(g?h.substring(0,p):h);if(!m){if(!g){l=e+(l.length>0?" "+l:l);continue}if(m=o(h),!m){l=e+(l.length>0?" "+l:l);continue}g=!1}const f=i(d).join(":"),_=u?f+"!":f,b=_+m;if(a.includes(b))continue;a.push(b);const w=n(m,g);for(let r=0;r<w.length;++r){const e=w[r];a.push(_+e)}l=e+(l.length>0?" "+l:l)}return l})(e,r);return n(e,i),i}return function(){return i(jt.apply(null,arguments))}}const Ft=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Ht=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Gt=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Vt=/^\d+\/\d+$/,Kt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Xt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Yt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qt=e=>Vt.test(e),er=e=>!!e&&!Number.isNaN(Number(e)),tr=e=>!!e&&Number.isInteger(Number(e)),rr=e=>e.endsWith("%")&&er(e.slice(0,-1)),or=e=>Kt.test(e),nr=()=>!0,ir=e=>Jt.test(e)&&!Zt.test(e),ar=()=>!1,sr=e=>Xt.test(e),lr=e=>Yt.test(e),cr=e=>!ur(e)&&!_r(e),dr=e=>Rr(e,Ir,ar),ur=e=>Ht.test(e),hr=e=>Rr(e,Cr,ir),pr=e=>Rr(e,Ar,er),gr=e=>Rr(e,Sr,ar),mr=e=>Rr(e,Er,lr),fr=e=>Rr(e,zr,sr),_r=e=>Gt.test(e),br=e=>Tr(e,Cr),wr=e=>Tr(e,Nr),vr=e=>Tr(e,Sr),yr=e=>Tr(e,Ir),xr=e=>Tr(e,Er),kr=e=>Tr(e,zr,!0),Rr=(e,t,r)=>{const o=Ht.exec(e);return!!o&&(o[1]?t(o[1]):r(o[2]))},Tr=(e,t,r=!1)=>{const o=Gt.exec(e);return!!o&&(o[1]?t(o[1]):r)},Sr=e=>"position"===e||"percentage"===e,Er=e=>"image"===e||"url"===e,Ir=e=>"length"===e||"size"===e||"bg-size"===e,Cr=e=>"length"===e,Ar=e=>"number"===e,Nr=e=>"family-name"===e,zr=e=>"shadow"===e,Dr=Bt(()=>{const e=Ft("color"),t=Ft("font"),r=Ft("text"),o=Ft("font-weight"),n=Ft("tracking"),i=Ft("leading"),a=Ft("breakpoint"),s=Ft("container"),l=Ft("spacing"),c=Ft("radius"),d=Ft("shadow"),u=Ft("inset-shadow"),h=Ft("text-shadow"),p=Ft("drop-shadow"),g=Ft("blur"),m=Ft("perspective"),f=Ft("aspect"),_=Ft("ease"),b=Ft("animate"),w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",_r,ur],v=()=>[_r,ur,l],y=()=>[Qt,"full","auto",...v()],x=()=>[tr,"none","subgrid",_r,ur],k=()=>["auto",{span:["full",tr,_r,ur]},tr,_r,ur],R=()=>[tr,"auto",_r,ur],T=()=>["auto","min","max","fr",_r,ur],S=()=>["auto",...v()],E=()=>[Qt,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],I=()=>[e,_r,ur],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",vr,gr,{position:[_r,ur]}],A=()=>["auto","cover","contain",yr,dr,{size:[_r,ur]}],N=()=>[rr,br,hr],z=()=>["","none","full",c,_r,ur],D=()=>["",er,br,hr],M=()=>[er,rr,vr,gr],P=()=>["","none",g,_r,ur],W=()=>["none",er,_r,ur],O=()=>["none",er,_r,ur],U=()=>[er,_r,ur],$=()=>[Qt,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[or],breakpoint:[or],color:[nr],container:[or],"drop-shadow":[or],ease:["in","out","in-out"],font:[cr],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[or],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[or],shadow:[or],spacing:["px",er],text:[or],"text-shadow":[or],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qt,ur,_r,f]}],container:["container"],columns:[{columns:[er,ur,_r,s]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:y()}],"inset-x":[{"inset-x":y()}],"inset-y":[{"inset-y":y()}],start:[{start:y()}],end:[{end:y()}],top:[{top:y()}],right:[{right:y()}],bottom:[{bottom:y()}],left:[{left:y()}],visibility:["visible","invisible","collapse"],z:[{z:[tr,"auto",_r,ur]}],basis:[{basis:[Qt,"full","auto",s,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[er,Qt,"auto","initial","none",ur]}],grow:[{grow:["",er,_r,ur]}],shrink:[{shrink:["",er,_r,ur]}],order:[{order:[tr,"first","last","none",_r,ur]}],"grid-cols":[{"grid-cols":x()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":x()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":T()}],"auto-rows":[{"auto-rows":T()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:S()}],mx:[{mx:S()}],my:[{my:S()}],ms:[{ms:S()}],me:[{me:S()}],mt:[{mt:S()}],mr:[{mr:S()}],mb:[{mb:S()}],ml:[{ml:S()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:E()}],w:[{w:[s,"screen",...E()]}],"min-w":[{"min-w":[s,"screen","none",...E()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...E()]}],h:[{h:["screen","lh",...E()]}],"min-h":[{"min-h":["screen","lh","none",...E()]}],"max-h":[{"max-h":["screen","lh",...E()]}],"font-size":[{text:["base",r,br,hr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,_r,pr]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",rr,ur]}],"font-family":[{font:[wr,ur,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,_r,ur]}],"line-clamp":[{"line-clamp":[er,"none",_r,pr]}],leading:[{leading:[i,...v()]}],"list-image":[{"list-image":["none",_r,ur]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_r,ur]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[er,"from-font","auto",_r,hr]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[er,"auto",_r,ur]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_r,ur]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_r,ur]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:C()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:A()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},tr,_r,ur],radial:["",_r,ur],conic:[tr,_r,ur]},xr,mr]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:N()}],"gradient-via-pos":[{via:N()}],"gradient-to-pos":[{to:N()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:D()}],"border-w-x":[{"border-x":D()}],"border-w-y":[{"border-y":D()}],"border-w-s":[{"border-s":D()}],"border-w-e":[{"border-e":D()}],"border-w-t":[{"border-t":D()}],"border-w-r":[{"border-r":D()}],"border-w-b":[{"border-b":D()}],"border-w-l":[{"border-l":D()}],"divide-x":[{"divide-x":D()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":D()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[er,_r,ur]}],"outline-w":[{outline:["",er,br,hr]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",d,kr,fr]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",u,kr,fr]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[er,hr]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":D()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",h,kr,fr]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[er,_r,ur]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[er]}],"mask-image-linear-from-pos":[{"mask-linear-from":M()}],"mask-image-linear-to-pos":[{"mask-linear-to":M()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":M()}],"mask-image-t-to-pos":[{"mask-t-to":M()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":M()}],"mask-image-r-to-pos":[{"mask-r-to":M()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":M()}],"mask-image-b-to-pos":[{"mask-b-to":M()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":M()}],"mask-image-l-to-pos":[{"mask-l-to":M()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":M()}],"mask-image-x-to-pos":[{"mask-x-to":M()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":M()}],"mask-image-y-to-pos":[{"mask-y-to":M()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[_r,ur]}],"mask-image-radial-from-pos":[{"mask-radial-from":M()}],"mask-image-radial-to-pos":[{"mask-radial-to":M()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[er]}],"mask-image-conic-from-pos":[{"mask-conic-from":M()}],"mask-image-conic-to-pos":[{"mask-conic-to":M()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:C()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:A()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_r,ur]}],filter:[{filter:["","none",_r,ur]}],blur:[{blur:P()}],brightness:[{brightness:[er,_r,ur]}],contrast:[{contrast:[er,_r,ur]}],"drop-shadow":[{"drop-shadow":["","none",p,kr,fr]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",er,_r,ur]}],"hue-rotate":[{"hue-rotate":[er,_r,ur]}],invert:[{invert:["",er,_r,ur]}],saturate:[{saturate:[er,_r,ur]}],sepia:[{sepia:["",er,_r,ur]}],"backdrop-filter":[{"backdrop-filter":["","none",_r,ur]}],"backdrop-blur":[{"backdrop-blur":P()}],"backdrop-brightness":[{"backdrop-brightness":[er,_r,ur]}],"backdrop-contrast":[{"backdrop-contrast":[er,_r,ur]}],"backdrop-grayscale":[{"backdrop-grayscale":["",er,_r,ur]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[er,_r,ur]}],"backdrop-invert":[{"backdrop-invert":["",er,_r,ur]}],"backdrop-opacity":[{"backdrop-opacity":[er,_r,ur]}],"backdrop-saturate":[{"backdrop-saturate":[er,_r,ur]}],"backdrop-sepia":[{"backdrop-sepia":["",er,_r,ur]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_r,ur]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[er,"initial",_r,ur]}],ease:[{ease:["linear","initial",_,_r,ur]}],delay:[{delay:[er,_r,ur]}],animate:[{animate:["none",b,_r,ur]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,_r,ur]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:W()}],"rotate-x":[{"rotate-x":W()}],"rotate-y":[{"rotate-y":W()}],"rotate-z":[{"rotate-z":W()}],scale:[{scale:O()}],"scale-x":[{"scale-x":O()}],"scale-y":[{"scale-y":O()}],"scale-z":[{"scale-z":O()}],"scale-3d":["scale-3d"],skew:[{skew:U()}],"skew-x":[{"skew-x":U()}],"skew-y":[{"skew-y":U()}],transform:[{transform:[_r,ur,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$()}],"translate-x":[{"translate-x":$()}],"translate-y":[{"translate-y":$()}],"translate-z":[{"translate-z":$()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_r,ur]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_r,ur]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[er,br,hr,pr]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function Mr(...e){return Dr(function(){for(var e,t,r=0,o="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=Et(e))&&(o&&(o+=" "),o+=t);return o}(e))}const Pr=nt(({className:e,...t},r)=>Ie("div",{ref:r,className:Mr("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Pr.displayName="Card",nt(({className:e,...t},r)=>Ie("div",{ref:r,className:Mr("flex flex-col space-y-1.5 p-6",e),...t})).displayName="CardHeader",nt(({className:e,...t},r)=>Ie("div",{ref:r,className:Mr("font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",nt(({className:e,...t},r)=>Ie("div",{ref:r,className:Mr("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";const Wr=nt(({className:e,...t},r)=>Ie("div",{ref:r,className:Mr("p-6 pt-0",e),...t}));Wr.displayName="CardContent",nt(({className:e,...t},r)=>Ie("div",{ref:r,className:Mr("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";const Or=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ur=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},$r=(...e)=>e.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var Lr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};const jr=({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:o,children:n,iconNode:i,class:a="",...s})=>y("svg",{...Lr,width:String(t),height:t,stroke:e,"stroke-width":o?24*Number(r)/Number(t):r,class:["lucide",a].join(" "),...s},[...i.map(([e,t])=>y(e,t)),...N(n)]),qr=((e,t)=>{const r=({class:r="",className:o="",children:n,...i})=>y(jr,{...i,iconNode:t,class:$r(`lucide-${Or(Ur(e))}`,`lucide-${Or(e)}`,r,o)},n);return r.displayName=Ur(e),r})("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);function Br({testimonial:e,displayOptions:t,theme:r}){const o="dark"===r.mode,n=r.cardStyle??"default";return Ie(Pr,{className:Mr("transition-all duration-300 h-full",o?"text-white":"text-zinc-900","glass"===n&&(o?"border-white/10 bg-white/5 backdrop-blur-md":"border-zinc-200/50 bg-white/60 backdrop-blur-md"),"minimal"===n&&"border-transparent bg-transparent shadow-none","bordered"===n&&(o?"border-zinc-700 bg-transparent":"border-zinc-300 bg-transparent"),("default"===n||!n)&&(o?"border-zinc-800 bg-zinc-900":"border-zinc-200 bg-white")),children:Ie(Wr,{className:"p-6 flex flex-col h-full",children:[t.showRating&&e.rating>0&&Ie("div",{className:"mb-4 flex gap-1",children:[1,2,3,4,5].map(t=>Ie(qr,{className:Mr("h-4 w-4",t<=e.rating?"fill-yellow-500 text-yellow-500":"text-zinc-300 dark:text-zinc-700")},t))}),Ie("p",{className:Mr("mb-4 text-sm flex-grow",o?"text-zinc-400":"text-zinc-600"),children:['"',e.content,'"']}),Ie("div",{className:"flex items-center gap-3 mt-auto",children:[t.showAvatar&&Ie("div",{className:Mr("h-8 w-8 rounded-full flex items-center justify-center overflow-hidden shrink-0",o?"bg-zinc-800 text-zinc-300":"bg-zinc-100 text-zinc-600"),children:e.author.avatar?Ie("img",{src:e.author.avatar,alt:e.author.name,className:"h-full w-full object-cover",loading:"lazy"}):Ie("span",{className:"text-xs font-medium",children:(i=e.author.name,i.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2))})}),Ie("div",{children:[Ie("p",{className:"text-sm font-semibold",children:e.author.name}),(t.showAuthorRole||t.showAuthorCompany)&&Ie("p",{className:Mr("text-xs","text-zinc-500"),children:[t.showAuthorRole&&e.author.role,t.showAuthorRole&&t.showAuthorCompany&&", ",t.showAuthorCompany&&e.author.company]})]})]}),t.showDate&&Ie("div",{className:Mr("mt-4 text-xs",o?"text-zinc-600":"text-zinc-400"),children:new Date(e.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})})]})});var i}function Fr({testimonials:e,displayOptions:t,theme:r,layout:o}){return Ie("div",{className:"tresta-grid",style:{display:"grid",gridTemplateColumns:"repeat(1, 1fr)",gap:"16px"},"data-cols":Math.min(o.columns??3,4),children:e.map(e=>Ie(Br,{testimonial:e,displayOptions:t,theme:r},e.id))})}function Hr({testimonials:e,displayOptions:t,theme:r}){return Ie("div",{className:"tresta-list",style:{display:"flex",flexDirection:"column",gap:"16px"},children:e.map(e=>Ie(Br,{testimonial:e,displayOptions:t,theme:r},e.id))})}function Gr({testimonials:e,displayOptions:t,theme:r,layout:o}){return Ie("div",{className:"tresta-masonry","data-cols":Math.min(o.columns??3,4),style:{columnCount:1,columnGap:"16px"},children:e.map(e=>Ie("div",{className:"tresta-masonry-item",style:{breakInside:"avoid",marginBottom:"16px"},children:Ie(Br,{testimonial:e,displayOptions:t,theme:r})},e.id))})}function Vr({testimonials:e,displayOptions:t,theme:r,layout:o}){const[n,i]=function(e){return De=1,function(e,t){var r=qe(Ce++,2);if(r.t=e,!r.__c&&(r.__=[Ye(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],o=r.t(t,e);t!==o&&(r.__N=[o,r.__[1]],r.__c.setState({}))}],r.__c=Ae,!Ae.__f)){var o=function(e,t,o){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter(function(e){return!!e.__c});if(i.every(function(e){return!e.__N}))return!n||n.call(this,e,t,o);var a=r.__c.props!==e;return i.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0)}}),n&&n.call(this,e,t,o)||a};Ae.__f=!0;var n=Ae.shouldComponentUpdate,i=Ae.componentWillUpdate;Ae.componentWillUpdate=function(e,t,r){if(this.__e){var a=n;n=void 0,o(e,t,r),n=a}i&&i.call(this,e,t,r)},Ae.shouldComponentUpdate=o}return r.__N||r.__}(Ye,e)}(0),a=(De=5,Fe(function(){return{current:null}},[]));const s=e.length,l=o.autoRotate??!1,c=o.rotateInterval??5e3,d=!1!==o.showNavigation;Be(()=>{if(!l||s<=1)return;const e=setInterval(()=>{i(e=>(e+1)%s)},c);return()=>clearInterval(e)},[l,c,s]),Be(()=>{const e=a.current;if(!e)return;const t=e.children[n];t&&t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},[n]);const u=He(e=>{i((e%s+s)%s)},[s]),h=He(()=>u(n-1),[n,u]),p=He(()=>u(n+1),[n,u]);return Ie("div",{className:"tresta-carousel",style:{position:"relative",width:"100%"},children:[Ie("div",{ref:a,className:"tresta-carousel-track",style:{display:"flex",overflowX:"auto",scrollSnapType:"x mandatory",scrollbarWidth:"none",gap:"16px"},children:e.map(e=>Ie("div",{className:"tresta-carousel-slide",style:{flex:"0 0 100%",scrollSnapAlign:"start",minWidth:0},children:Ie(Br,{testimonial:e,displayOptions:t,theme:r})},e.id))}),d&&s>1&&Ie(k,{children:[Ie("button",{type:"button",onClick:h,className:"tresta-carousel-prev","aria-label":"Previous testimonial",children:Ie("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:Ie("polyline",{points:"15 18 9 12 15 6"})})}),Ie("button",{type:"button",onClick:p,className:"tresta-carousel-next","aria-label":"Next testimonial",children:Ie("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:Ie("polyline",{points:"9 18 15 12 9 6"})})})]}),s>1&&Ie("div",{className:"tresta-carousel-dots",children:e.map((e,t)=>Ie("button",{type:"button",onClick:()=>u(t),className:"tresta-carousel-dot "+(t===n?"active":""),"aria-label":`Go to testimonial ${t+1}`},t))})]})}function Kr(e){return 1+.01*((13*e+5)%7-3)}function Jr({testimonials:e,displayOptions:t,theme:r,layout:o}){return Ie("div",{className:"tresta-wall","data-cols":Math.min(o.columns??3,4),style:{columnCount:1,columnGap:"12px"},children:e.map((e,o)=>{return Ie("div",{className:"tresta-wall-item",style:{breakInside:"avoid",marginBottom:"12px",transform:`rotate(${n=o,.4*((7*n+3)%11-5)}deg) scale(${Kr(o)})`,transition:"transform 0.3s ease"},children:Ie(Br,{testimonial:e,displayOptions:t,theme:r})},e.id);var n})})}function Zr({testimonials:e,displayOptions:t,theme:r}){if(0===e.length)return null;const o=Math.ceil(e.length/2),n=e.slice(0,o),i=e.slice(o);return Ie("div",{className:"tresta-marquee",style:{overflow:"hidden",width:"100%"},children:[Ie(Xr,{items:n,displayOptions:t,theme:r,direction:"left"}),i.length>0&&Ie("div",{style:{marginTop:"16px"},children:Ie(Xr,{items:i,displayOptions:t,theme:r,direction:"right"})})]})}function Xr({items:e,displayOptions:t,theme:r,direction:o}){return Ie("div",{className:"tresta-marquee-row "+("right"===o?"tresta-marquee-reverse":""),children:Ie("div",{className:"tresta-marquee-track",children:[...e,...e].map((e,o)=>Ie("div",{className:"tresta-marquee-item",children:Ie(Br,{testimonial:e,displayOptions:t,theme:r})},`${e.id}-${o}`))})})}function Yr({data:e}){const{testimonials:t,config:r}=e,{layout:o,display:n,theme:i}=r,a={testimonials:t,displayOptions:n,theme:i,layout:o};return Ie("div",{className:"tresta-widget-root w-full "+("dark"===i.mode?"dark":""),children:[function(){switch(o.type){case"list":return Ie(Hr,{...a});case"masonry":return Ie(Gr,{...a});case"carousel":return Ie(Vr,{...a});case"wall":return Ie(Jr,{...a});case"marquee":return Ie(Zr,{...a});default:return Ie(Fr,{...a})}}(),Ie("div",{className:"mt-4 flex justify-center",children:Ie("a",{href:"https://tresta.dev",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-[#00796b] transition-colors",children:"Powered by Tresta"})})]})}const Qr=new WeakMap;class eo{constructor(e){p(this,"config"),p(this,"state"),p(this,"container",null),p(this,"root",null),p(this,"styleManager",null),p(this,"contentRoot",null),p(this,"liveRegion",null),p(this,"eventListeners",[]),p(this,"apiClient"),p(this,"storageManager"),p(this,"telemetryTracker"),p(this,"logger"),p(this,"cspValidator"),this.config=e,this.state={mounted:!1,loading:!1,error:null,data:null},this.logger=new Re(e.widgetId,e.version||"1.0.0",e.debug||!1);const t=e.apiUrl?{baseURL:e.apiUrl}:{};this.apiClient=new ge(t,e.apiKey,this.logger),this.storageManager=new ve,this.telemetryTracker=new xe(e.widgetId,e.version||"1.0.0",{enabled:!1!==e.telemetry});const r={reportViolations:e.debug||!1};e.nonce&&(r.nonce=e.nonce),this.cspValidator=new Se(r),this.logger.debug("Initialized with config:",{widgetId:e.widgetId,apiKey:e.apiKey?`${e.apiKey.substring(0,15)}...`:"NOT PROVIDED",apiUrl:e.apiUrl||`default (${le})`,debug:e.debug,telemetry:e.telemetry,version:e.version}),this.logger.debug("Telemetry enabled:",this.telemetryTracker.isEnabled())}async mount(e){try{if(this.telemetryTracker.startLoadTracking(),Qr.has(e)){const t=Qr.get(e);t&&t!==this&&(console.warn("[TrestaWidget] Container already has a widget instance. Unmounting existing widget."),t.unmount())}this.container=e,this.state.mounted=!0,this.state.loading=!0,this.root=document.createElement("div"),this.root.setAttribute("data-tresta-widget",this.config.widgetId),this.root.setAttribute("data-version",this.config.version||"1.0.0"),this.root.setAttribute("data-instance-id",this.generateInstanceId()),this.config.lang&&this.root.setAttribute("lang",this.config.lang),this.root.setAttribute("role","region"),this.root.setAttribute("aria-label","Testimonials widget"),this.styleManager=new K({debug:this.config.debug??!1,theme:this.config.theme,...void 0!==this.config.useShadowDOM&&{useShadowDOM:this.config.useShadowDOM},nonceApplier:e=>this.cspValidator.applyNonce(e)}),this.contentRoot=this.styleManager.initializeStyles(this.root),this.liveRegion=document.createElement("div"),this.liveRegion.setAttribute("role","status"),this.liveRegion.setAttribute("aria-live","polite"),this.liveRegion.setAttribute("aria-atomic","true"),this.liveRegion.className="tresta-sr-only",this.contentRoot.appendChild(this.liveRegion),e.appendChild(this.root),Qr.set(e,this),await this.fetchAndRender(),this.logger.debug("Mounted successfully to container",e)}catch(t){this.state.loading=!1,this.state.error=t,t instanceof H?this.telemetryTracker.trackError(t.code):this.telemetryTracker.trackError("MOUNT_ERROR"),this.logError("Mount failed",t),this.renderErrorState(t)}}async fetchAndRender(){try{this.logger.debug("Starting fetchAndRender"),this.state.loading=!0,this.announceToScreenReader("Loading testimonials");const e=await this.fetchWithFallback();this.logger.debug("Data fetched successfully:",{widgetId:e.widgetId,testimonialCount:e.testimonials?.length||0}),this.state.data=e,this.state.error=null,this.state.loading=!1,this.renderContent(e),this.telemetryTracker.trackLoad(e.config?.layout?.type);const t=e.testimonials?.length||0;this.announceToScreenReader(`${t} testimonial${1!==t?"s":""} loaded`)}catch(e){this.state.loading=!1,this.state.error=e,e instanceof H?this.telemetryTracker.trackError(e.code):this.telemetryTracker.trackError("FETCH_ERROR"),this.logError("Failed to fetch widget data",e),this.renderErrorState(e),this.announceToScreenReader("Failed to load testimonials","assertive")}}async fetchWithFallback(){try{const e=await this.apiClient.fetchWidgetData(this.config.widgetId);return await this.storageManager.set(this.config.widgetId,e),this.logger.debug("Fetched widget data from API"),e}catch(e){const t=await this.storageManager.get(this.config.widgetId);if(t)return this.logger.warn("Using cached data due to API error"),t;throw e}}renderContent(e){if(this.logger.debug("renderContent called",{hasContentRoot:!!this.contentRoot,testimonialCount:e.testimonials?.length||0,widgetData:e}),!this.contentRoot)return void this.logger.error("No content root available for rendering");const t=e.config.layout.maxTestimonials??e.config.display.maxTestimonials,r=function(e,t){if(!e||0===e.length)return[];const r=t??100;return r<=0?[]:e.length<=r?ke(e):ke(e).slice(0,r)}(e.testimonials,t),o={...e,testimonials:r};let n=this.contentRoot.querySelector(".tresta-app-root");if(n||(n=document.createElement("div"),n.className="tresta-app-root",this.contentRoot.appendChild(n)),B(y(Yr,{data:o}),n),this.logger.debug("Widget rendered successfully with Preact"),this.config.debug&&this.contentRoot){const e=this.cspValidator.validateResources(this.contentRoot);e.valid?this.logger.debug("CSP validation passed"):this.logger.warn("CSP violations detected:",e.violations)}}renderErrorState(e){if(!this.contentRoot)return;let t=this.config.errorMessage;t||(t=e instanceof H?e.message:"Unable to load testimonials. Please try again later."),this.contentRoot.innerHTML=`<div class="tresta-error">${t}</div>`}logError(e,t){t instanceof H?this.logger.error(`${e} for widget ${this.config.widgetId}:`,`[${t.code}]`,t.message):t instanceof Error?this.logger.error(`${e} for widget ${this.config.widgetId}:`,t.message):this.logger.error(`${e} for widget ${this.config.widgetId}:`,t)}unmount(){try{if(this.contentRoot){const e=this.contentRoot.querySelector(".tresta-app-root");e&&B(null,e)}this.cleanupEventListeners(),this.styleManager&&(this.styleManager.cleanup(),this.styleManager=null),this.root&&this.root.parentNode&&(this.root.parentNode.removeChild(this.root),this.root=null),this.container&&Qr.delete(this.container),this.state.mounted=!1,this.container=null,this.contentRoot=null,this.logger.debug("Unmounted successfully")}catch(e){console.error("[TrestaWidget] Unmount failed:",e)}}async refresh(){try{if(this.logger.debug("Refresh requested"),!this.state.mounted)return void this.logger.warn("Cannot refresh: widget not mounted");await this.fetchAndRender()}catch(e){this.logError("Refresh failed",e)}}getState(){return{...this.state}}cleanupEventListeners(){this.eventListeners.forEach(({element:e,event:t,handler:r})=>{e.removeEventListener(t,r)}),this.eventListeners=[]}generateInstanceId(){return`${this.config.widgetId}-${Date.now()}-${Math.random().toString(36).substring(2,11)}`}announceToScreenReader(e,t="polite"){this.liveRegion&&(this.liveRegion.setAttribute("aria-live",t),this.liveRegion.textContent=e,setTimeout(()=>{this.liveRegion&&(this.liveRegion.textContent="")},1e3))}static getInstance(e){return Qr.get(e)}getStyleManager(){return this.styleManager}getContentRoot(){return this.contentRoot}getTelemetryTracker(){return this.telemetryTracker}}function to(e){try{const t=function(e){const t=function(e){const t=function(e){return e.getAttribute("data-widget-id")||e.getAttribute("data-tresta-widget")}(e),r=e.getAttribute("data-api-key"),o=e.getAttribute("data-version"),n=e.getAttribute("data-api-url"),i=e.getAttribute("nonce"),a={debug:"true"===e.getAttribute("data-debug"),telemetry:"false"!==e.getAttribute("data-telemetry")};t&&(a.widgetId=t),r&&(a.apiKey=r),a.version=o||"1.0.0",n&&(a.apiUrl=n),i&&(a.nonce=i);const s=G.parseThemeFromElement(e);return Object.keys(s).length>0&&(a.theme=s),a}(e);return function(e){if(!e.widgetId)throw new Error("[TrestaWidget] widgetId is required");if(!e.apiKey)throw new Error("[TrestaWidget] apiKey is required")}(t),t}(e),r=function(e,t){const r=e.getAttribute("data-container");if(r){const e=document.querySelector(r);if(!e)throw new Error(`[TrestaWidget] Container not found: ${r}`);return e}const o=document.getElementById(`tresta-widget-${t}`);if(o)return o;const n=document.createElement("div");return n.id=`tresta-widget-${t}`,e.parentNode?.insertBefore(n,e.nextSibling),n}(e,t.widgetId);if(eo.getInstance(r))return void t.debug;new eo(t).mount(r)}catch(t){console.error("[TrestaWidget] Failed to initialize widget:",t)}}function ro(){try{const e=document.querySelectorAll("script[data-widget-id], script[data-tresta-widget]");if(0===e.length)return;e.forEach(e=>{to(e)})}catch(e){console.error("[TrestaWidget] Auto-initialization failed:",e)}}const oo={async mount(e,t){const r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`[TrestaWidget] Container not found: ${e}`);const o=new eo(t);return await o.mount(r),o},unmount(e){const t="string"==typeof e?document.querySelector(e):e;if(!t)return void console.warn(`[TrestaWidget] Container not found: ${e}`);const r=eo.getInstance(t);r?r.unmount():console.warn("[TrestaWidget] No widget instance found in container")},version:"1.0.0"};return"undefined"!=typeof window&&(window.TrestaWidget=oo,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",ro):ro()),e.TrestaWidget=oo,e.Widget=eo,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e}({});
//# sourceMappingURL=tresta-widget.js.map
